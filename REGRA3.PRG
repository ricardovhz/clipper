#INCLUDE "INKEY.CH"
#INCLUDE "BOX.CH"

IF !FILE( "REGRA3.DBF" )
   ? 'Arquivo "REGRA3.DBF" n꼘 encontrado!'
   ?
   QUIT
ENDIF
USE REGRA3.DBF NEW
INDEX ON N_NOME TO REGRA3
SAVE SCREEN
SET SCOREBOARD OFF

WHILE .T.
   SETCOLOR("W+/R,N/W,R,W+/R")
   CLS
   @ 00,00,24,79 BOX B_DOUBLE+CHR(32)
   SAVETELA := SAVESCREEN( 00,00,24,79 )
   @ 02,15 SAY "Escreva um probleminha para a regra de tr늮"
   SETCOLOR("W+/BG")
   @ 03,12,10,57 BOX B_DOUBLE+CHR(32)
   SETCOLOR("W+/R,N/W,,,W+/R")
   @ 04,26,09,44 BOX B_DOUBLE+CHR(32)
   @ 05,29 SAY "Escreva o nome"
   @ 06,27 SAY "do arquivo:"
   @ 07,35 SAY CHR(25)
   WLEI := SPACE(8)
   SET CONFIRM ON
   @ 08,32 GET WLEI PICTURE "@!" VALID CHECA_NOME ( WLEI )
   READ
   IF BAD()
      SETCOLOR("W+/BG,W+/BG")
      @ 04,26 CLEAR TO 09,44
   ENDIF
   SET CONFIRM OFF
   @ 23,01 SAY PADC( "F6 - VER LISTA DE PALAVRAS QUE TEM QUE TER NO TEXTO",78 )
   SET KEY K_F6 TO LISTAGEM
   SETCOLOR("W+/BG,W+/BG")
   @ 04,26 CLEAR TO 09,44
   CTEXTO := MEMOEDIT( N_MEMO,04,13,09,56,.T. )
   SET KEY K_F6 TO
   IF BAD()
      LOOP
   ENDIF
   REPLACE N_NOME WITH WLEI
   REPLACE N_MEMO WITH CTEXTO
   RESTSCREEN( ,,,,SAVETELA )
   @ 04,24,09,42 BOX B_SINGLE+CHR(32)
   @ 05,33 SAY CHR(179)
   @ 06,25 SAY "컴컴컴컴좔컴컴컴"
   
**************
FUNCTION BAD()
**************
IF LASTKEY()==K_ESC
   RETURN .T.
ELSE
   RETURN .F.
ENDIF
