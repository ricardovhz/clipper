#INCLUDE "INKEY.CH"
#INCLUDE "MEMOEDIT.CH"
SET SCOREBOARD OFF
BORDA1 := "ÚÄ¿³ÙÄÀ³ "
SETCOLOR("W+/N")
CLS
USE EDITOR.DBF ALIAS EDT NEW
@ 00,00,24,79 BOX BORDA1
GO 4
MEMOEDIT( EDT->MEMINHO,01,01,23,78,.T.,"XMEMO" )
SETCOLOR("W/N")
CLS
RETURN NIL

FUNCTION XMEMO( NMODE, NLINE, NCOL )

LOCAL NKEY := LASTKEY()
LOCAL NRETVAL := ME_DEFAULT
@ 24,25 SAY ALLTRIM( NLINE )
@ 24,34 SAY ALLTRIM( NCOL )

DO CASE
   CASE NMODE = ME_IDLE
      @ 24,01 SAY "Memo mode is ME_IDLE"
   CASE NMODE = ME_UNKEY
      @ 24,01 SAY "Memo mode is ME_UNKEY"
      DO CASE
         CASE NKEY = K_F2
            NRETVAL := ME_WORDRIGHT
         CASE NKEY = K_F3
            NRETVAL := ME_BOTTOMRIGHT
      ENDCASE
   CASE NMODE = ME_UNKEYX
      @ 24,01 SAY "Memo mode is ME_UNKEYX"
      IF NKEY = K_ESC
         @ 24,01 SAY "Est  alterado!         "
         INKEY(0)
      ENDIF
   OTHERWISE
      @ 24,01 SAY "Memo mode if ME_INIT  "
ENDCASE
RETURN NRETVAL
